@using Orchard.ContentManagement
@using Orchard.Core.Common.Models
@using Orchard.UI.Navigation
@using Orchard.Utility.Extensions
@using SmartPage.Community.Groups.Extensions
@using SmartPage.Community.Groups.Models
@{
    var postPart = (GroupPostPart)Model.Post;
    var commonPart = postPart.As<CommonPart>();

    var pager = (Pager)Model.Pager;

    Model.Classes.Add("latestPost");

    if (postPart != null)
    {
        var contentTypeClassName = ((string)postPart.ContentItem.ContentType + "-metadata").HtmlClassify();
        Model.Classes.Add(contentTypeClassName);
        var tag = Tag(Model, "div");

        @tag.StartElement
        <i class="fa fa-calendar"></i>
        <span class="author">@T("Latest post by {0},", commonPart.Owner.UserName)</span>
        <span class="published">
            @Display.DateTimeRelative(DateTimeUtc: commonPart.CreatedUtc)
        </span>
                @tag.EndElement
    }
}