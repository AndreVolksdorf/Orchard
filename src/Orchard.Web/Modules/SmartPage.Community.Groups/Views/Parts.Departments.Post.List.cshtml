@using Orchard.ContentManagement
@using Orchard.Utility.Extensions
@using SmartPage.Community.Groups.Models
@{
    IEnumerable<object> posts = Model.ContentItems;
    DepartmentPart contentPart = Model.ContentPart;
    Model.ContentItems.Classes.Add("content-items");
    var contentTypeClassName = ((string)contentPart.ContentItem.ContentType + "-posts").HtmlClassify();
    Model.ContentItems.Classes.Add(contentTypeClassName);
    
    bool noReplies = posts.Count() == 1 && (((ContentItem) ((dynamic) posts.First()).ContentItem).As<GroupPostPart>().IsParentDepartment());
}
@Display(Model.ContentItems)
@if (noReplies) {
    <p class="nocontentitems">@T("There are no replies to this post.")</p>
} else { 
  @Display(Model.Pager)
}