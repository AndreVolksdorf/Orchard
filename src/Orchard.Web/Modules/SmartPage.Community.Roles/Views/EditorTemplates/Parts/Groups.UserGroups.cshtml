@model UserGroupsViewModel
@using SmartPage.Community.Roles.ViewModels;

<fieldset>
    <legend>@T("Roles")</legend>
    @if (Model.Groups.Count > 0) {
        var index = 0;
        foreach (var entry in Model.Groups) {
            if (string.Equals(entry.Name, "Authenticated", StringComparison.OrdinalIgnoreCase) || string.Equals(entry.Name, "Anonymous", StringComparison.OrdinalIgnoreCase)) {
                continue;
            }

            @Html.Hidden("Roles[" + index + "].RoleId", entry.GroupId)
            @Html.Hidden("Roles[" + index + "].Name", entry.Name)

    <div>
        @Html.CheckBox("Roles[" + index + "].Granted", entry.Granted)
        <label class="forcheckbox" for="@Html.FieldIdFor(m => m.Groups[index].Granted)">@entry.Name</label>
    </div>
            index++;
        }
    }
    else {
    <p>@T("There are no roles.")</p>
    }
</fieldset>
